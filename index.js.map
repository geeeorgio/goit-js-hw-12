{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const refs = {\n  formEl: document.querySelector('.js-form'),\n  loaderEl: document.querySelector('.loader'),\n  galleryEl: document.querySelector('.gallery'),\n};\n\nexport const lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'title',\n});\n\nexport function showSuccessMsg() {\n  iziToast.success({\n    title: 'Nice!',\n    message: 'Searching for pictures',\n    position: 'topRight',\n  });\n}\n\nexport function showWarningMsg() {\n  iziToast.warning({\n    title: 'Caution!',\n    message: 'Looks like you forgot to type something',\n    position: 'topRight',\n  });\n}\n\nexport function showErrorMsg(err) {\n  iziToast.error({\n    title: `${err}!`,\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n    maxWidth: 500,\n  });\n}\n\nexport function renderGallery(images) {\n  refs.galleryEl.insertAdjacentHTML('beforeend', createGallery(images));\n  lightbox.refresh();\n}\n\nfunction createGallery(images) {\n  return images.map(renderGalleryItem).join('');\n}\n\nfunction renderGalleryItem(item) {\n  const {\n    largeImageURL,\n    webformatURL,\n    views,\n    comments,\n    likes,\n    downloads,\n    tags,\n  } = item;\n\n  const mainTag = tags ? tags.split(',')[0].trim() : 'image';\n\n  return `\n    <li class=\"response-list-item\">\n      <a class=\"simplelightbox-img-wrapper\" href=\"${largeImageURL}\">\n        <img\n          class=\"response-img\"\n          src=\"${webformatURL}\"\n          alt=\"${mainTag}\"\n          title=\"${mainTag}\"\n        />\n      </a>\n      <ul class=\"response-item-des-list\">\n        <li class=\"item-desc-element\" data-likes>\n          Likes\n          <p class=\"item-amount\">${likes}</p>\n        </li>\n        <li class=\"item-desc-element\" data-views>\n          Views\n          <p class=\"item-amount\">${views}</p>\n        </li>\n        <li class=\"item-desc-element\" data-comments>\n          Comments\n          <p class=\"item-amount\">${comments}</p>\n        </li>\n        <li class=\"item-desc-element\" data-downloads>\n          Downloads\n          <p class=\"item-amount\">${downloads}</p>\n        </li>\n      </ul>\n    </li>`;\n}\n\nexport function clearGallery() {\n  refs.galleryEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  refs.loaderEl.style.display = 'flex';\n}\n\nexport function hideLoader() {\n  refs.loaderEl.style.display = 'none';\n}\n","import axios from 'axios';\n\nconst API_KEY = '50205845-1a821f8a08bf3bfbd622691da';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\naxios.defaults.params = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n};\n\nexport function getImagesByQuery(query) {\n  return axios.get('', { params: { q: query } }).then(response => {\n    const hits = response.data.hits;\n    if (hits.length === 0) {\n      throw new Error();\n    }\n    return hits;\n  });\n}\n","import * as functions from './js/render-functions';\nimport { getImagesByQuery } from './js/pixabay-api';\n\nfunctions.refs.formEl.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormSubmit(e) {\n  e.preventDefault();\n  functions.clearGallery();\n  functions.showLoader();\n\n  const inputData = functions.refs.formEl.elements['search-text'].value.trim();\n  if (!inputData || inputData === '') {\n    functions.showWarningMsg();\n    functions.hideLoader();\n    return;\n  }\n\n  getImagesByQuery(inputData)\n    .then(response => {\n      functions.renderGallery(response);\n    })\n    .catch(error => {\n      functions.showErrorMsg(error);\n    })\n    .finally(() => functions.hideLoader());\n\n  functions.refs.formEl.reset();\n}\n"],"names":["refs","lightbox","SimpleLightbox","showWarningMsg","iziToast","showErrorMsg","err","renderGallery","images","createGallery","renderGalleryItem","item","largeImageURL","webformatURL","views","comments","likes","downloads","tags","mainTag","clearGallery","showLoader","hideLoader","API_KEY","axios","getImagesByQuery","query","response","hits","functions.refs","handleFormSubmit","e","functions.clearGallery","functions.showLoader","inputData","functions.showWarningMsg","functions.hideLoader","functions.renderGallery","error","functions.showErrorMsg"],"mappings":"owBAKO,MAAMA,EAAO,CAClB,OAAQ,SAAS,cAAc,UAAU,EACzC,SAAU,SAAS,cAAc,SAAS,EAC1C,UAAW,SAAS,cAAc,UAAU,CAC9C,EAEaC,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,IACd,aAAc,OAChB,CAAC,EAUM,SAASC,GAAiB,CAC/BC,EAAS,QAAQ,CACf,MAAO,WACP,QAAS,0CACT,SAAU,UACd,CAAG,CACH,CAEO,SAASC,EAAaC,EAAK,CAChCF,EAAS,MAAM,CACb,MAAO,GAAGE,CAAG,IACb,QACE,2EACF,SAAU,WACV,SAAU,GACd,CAAG,CACH,CAEO,SAASC,EAAcC,EAAQ,CACpCR,EAAK,UAAU,mBAAmB,YAAaS,EAAcD,CAAM,CAAC,EACpEP,EAAS,QAAO,CAClB,CAEA,SAASQ,EAAcD,EAAQ,CAC7B,OAAOA,EAAO,IAAIE,CAAiB,EAAE,KAAK,EAAE,CAC9C,CAEA,SAASA,EAAkBC,EAAM,CAC/B,KAAM,CACJ,cAAAC,EACA,aAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,KAAAC,CACD,EAAGP,EAEEQ,EAAUD,EAAOA,EAAK,MAAM,GAAG,EAAE,CAAC,EAAE,KAAM,EAAG,QAEnD,MAAO;AAAA;AAAA,oDAE2CN,CAAa;AAAA;AAAA;AAAA,iBAGhDC,CAAY;AAAA,iBACZM,CAAO;AAAA,mBACLA,CAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAMSH,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILF,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mCAIRE,CAAS;AAAA;AAAA;AAAA,UAI5C,CAEO,SAASG,GAAe,CAC7BpB,EAAK,UAAU,UAAY,EAC7B,CAEO,SAASqB,GAAa,CAC3BrB,EAAK,SAAS,MAAM,QAAU,MAChC,CAEO,SAASsB,GAAa,CAC3BtB,EAAK,SAAS,MAAM,QAAU,MAChC,CCvGA,MAAMuB,EAAU,qCAEhBC,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,OAAS,CACtB,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,MACd,EAEO,SAASE,EAAiBC,EAAO,CACtC,OAAOF,EAAM,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAGE,CAAO,CAAA,CAAE,EAAE,KAAKC,GAAY,CAC9D,MAAMC,EAAOD,EAAS,KAAK,KAC3B,GAAIC,EAAK,SAAW,EAClB,MAAM,IAAI,MAEZ,OAAOA,CACX,CAAG,CACH,CCjBAC,EAAe,OAAO,iBAAiB,SAAUC,CAAgB,EAEjE,SAASA,EAAiBC,EAAG,CAC3BA,EAAE,eAAc,EAChBC,IACAC,IAEA,MAAMC,EAAYL,EAAe,OAAO,SAAS,aAAa,EAAE,MAAM,OACtE,GAAI,CAACK,GAAaA,IAAc,GAAI,CAClCC,IACAC,IACA,MACD,CAEDX,EAAiBS,CAAS,EACvB,KAAKP,GAAY,CAChBU,EAAwBV,CAAQ,CACtC,CAAK,EACA,MAAMW,GAAS,CACdC,EAAuBD,CAAK,CAClC,CAAK,EACA,QAAQ,IAAMF,EAAoB,CAAE,EAEvCP,EAAe,OAAO,OACxB"}